{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://sargonpiraev.com/schemas/mcp-server-values.json",
  "title": "MCP Server Values Schema",
  "description": "Schema for validating MCP server values files (Helm-like approach)",
  "type": "object",
  "properties": {
    "name": {
      "type": "string",
      "description": "Public display name (e.g., 'Habitify MCP Server')",
      "minLength": 1
    },
    "slug": {
      "type": "string",
      "description": "Technical name for package, repository, etc. (e.g., 'habitify-mcp-server')",
      "pattern": "^[a-z0-9-]+$"
    },
    "description": {
      "type": "string",
      "description": "Package description",
      "minLength": 10,
      "maxLength": 200
    },
    "docsUrl": {
      "type": "string",
      "description": "Documentation URL"
    },
    "include": {
      "type": "array",
      "description": "List of OpenAPI operations to include. If empty, includes all operations.",
      "items": {
        "type": "string",
        "minLength": 1
      },
      "uniqueItems": true
    },
    "envVariables": {
      "type": "array",
      "description": "Environment variables configuration for validation",
      "items": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Environment variable name"
          },
          "zodSchema": {
            "type": "string",
            "description": "Zod schema definition (e.g., 'z.string().min(1)')"
          },
          "description": {
            "type": "string",
            "description": "Description for .env.example file"
          }
        },
        "required": ["name", "zodSchema"],
        "additionalProperties": false
      }
    },
    "package.json": {
      "type": "object",
      "description": "Settings for package.json generation",
      "properties": {
        "version": {
          "type": "string",
          "description": "Package version"
        },
        "keywords": {
          "type": "array",
          "description": "Additional keywords (extends base: mcp, claude, ai, assistant)",
          "items": {
            "type": "string",
            "minLength": 2
          },
          "uniqueItems": true
        },
        "scripts": {
          "type": "object",
          "description": "Additional NPM scripts (extends base scripts)",
          "patternProperties": {
            "^[a-zA-Z0-9:_-]+$": {
              "type": "string"
            }
          },
          "additionalProperties": false
        },
        "dependencies": {
          "type": "object",
          "description": "Additional dependencies (extends base: @modelcontextprotocol/sdk, dotenv, zod, axios)",
          "patternProperties": {
            "^[@a-zA-Z0-9/_-]+$": {
              "type": "string",
              "pattern": "^[~^]?\\d+\\.\\d+\\.\\d+"
            }
          },
          "additionalProperties": false
        },
        "devDependencies": {
          "type": "object",
          "description": "Additional devDependencies (extends base devDependencies)",
          "patternProperties": {
            "^[@a-zA-Z0-9/_-]+$": {
              "type": "string",
              "pattern": "^[~^]?\\d+\\.\\d+\\.\\d+"
            }
          },
          "additionalProperties": false
        },
        "bin": {
          "type": "object",
          "description": "Bin configuration",
          "patternProperties": {
            "^[a-zA-Z0-9_-]+$": {
              "type": "string"
            }
          },
          "additionalProperties": false
        },
        "repository": {
          "type": "string",
          "description": "Git repository URL"
        }
      },
      "required": [],
      "additionalProperties": false
    },
    "README.md": {
      "type": "object",
      "description": "Settings for README.md generation",
      "properties": {
        "features": {
          "type": "array",
          "description": "List of features to display",
          "items": {
            "type": "string",
            "minLength": 5
          },
          "uniqueItems": true
        }
      },
      "required": [],
      "additionalProperties": false
    }
  },
  "required": [],
  "additionalProperties": false
}
